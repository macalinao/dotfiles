#!/usr/bin/env zsh
DOTFILES=$HOME/dotfiles

source $DOTFILES/lib/util.sh

# Editor stuff
export EDITOR=vim
alias vi=vim
alias e="emacsclient -n"

# Scala
alias sbto='sbt "set offline := true"'
export SBT_OPTS="-Xmx8G -XX:+CMSClassUnloadingEnabled -Xss2M"

alias sfmt="scalafmt -c .scalafmt --exclude .ensime_cache"

alias dylan="keybase chat send dylanmacalinao"

alias unescape="jq -r ."

source $HOME/private_secrets/lib/helpers.sh

export GPG_TTY=$(tty)

docker-stop-all() {
  docker container stop $(docker container ls -aq)
}

stop-conflicting-services() {
  sudo systemctl stop postgresql
  sudo systemctl stop openvpn-us-silicon-valley
}

alias ls="exa"

nxs() {
  if [ -e $DOTFILES/nix/shells/$1/default.nix ]; then
    SHELL_PATH=$DOTFILES/nix/shells/$1
  else
    SHELL_PATH=$DOTFILES/nix/shells/$1.nix
  fi
  nix-shell --arg pkgs --command zsh $DOTFILES/nix/nixpkgs $SHELL_PATH
}

bindkey '^[[1;3C' forward-word
bindkey '^[[1;3D' backward-word
